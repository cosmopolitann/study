#  ERC20-brc_call调用示例



### 调用brc_call获取合约相关返回值

#### 1.获取合约币发行总量

- 1.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
            "data": "0x18160ddd"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 1.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x6bb313a31fb23dd97d73d02217af51a515db2f41","data":"0x18160ddd"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 1.3 参数说明

  ```
  method : 方法名
  params : 参数列表
         > from : 调用合约者地址
         > to   : 合约地址
         > data : 查询合约币发行总量函数签名的前4个字节
  "latest"表示查询最新区块的结果,也可以传区块号进行查询,如查询已知合约部署的区块号为:5707674,如此时将"latest"改为"5707674",
  就可以得到本合约初始发行代币的数量
  ```

- 1.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x00000000000000000000000000000000000000000000000000470de4eb6dc200"
  }
  ```

- 1.5 参数说明

  ```
  result : 此时返回合约币发行的总量
  备注:由返回结果可知,合约币的发行总量为:470de4eb6dc200,转换为10进制可得:20000000200000000
  ```

#### 2. 获取合约币发行精度

- 2.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
            "data": "0x313ce567"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 2.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x6bb313a31fb23dd97d73d02217af51a515db2f41","data":"0x313ce567"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 2.3 参数说明

  ```
  method : 方法名
  params : 参数列表
         > from : 调用合约者地址
         > to   : 合约地址
         > data : 查询合约币精度函数签名的前4个字节
  ```

- 2.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x0000000000000000000000000000000000000000000000000000000000000008"
  }
  ```

- 2.5 参数说明

  ```
  result : 此时返回合约币的精度
  注意此处返回的值无论是16进制还是10进制都是8,不过解析的时候都需要转换为10进制
  ```

#### 3. 获取合约指定地址余额

- 3.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
            "data": "0x70a08231000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 3.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x6bb313a31fb23dd97d73d02217af51a515db2f41","data":"0x70a08231000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 3.3 参数说明

  ```
  method : 方法名
  params : 参数列表
         > from : 调用合约者地址
         > to   : 合约地址
         > data : 查询合约币指定地址函数:签名的前4个字节 + 要查询的地址(需要去掉地址前缀0x)
  "latest"表示查询最新区块的结果,也可以传区块号进行查询,如查询已知合约部署的区块号为:5707674,如此时将"latest"改为"5707674",
  就可以得到本合约部署时该地址的余额
  ```

- 3.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x00000000000000000000000000000000000000000000000000470de4eb6d73ce"
  }
  ```

- 3.5 参数说明

  ```
  result : 此时为要查询地址的余额
  由返回结果可知,该地址的余额为:470de4eb6d73ce,转换为10进制的:20000000199979982
  ```

#### 4. 获取合约币的名称

- 4.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
            "data": "0x06fdde03"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 4.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x6bb313a31fb23dd97d73d02217af51a515db2f41","data":"0x06fdde03"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 4.3 参数说明

  ```
  method : 方法名
  params : 参数列表
         > from : 调用合约者地址
         > to   : 合约地址
         > data : 查询合约币名称函数签名的前4个字节
  ```

- 4.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000974657374546f6b656e0000000000000000000000000000000000000000000000"
  }
  ```

- 4.5 参数说明

  ```
  result : 返回合约币名称编码过后的数据,需要进行解码转换为字符串
  ```

#### 5. 获取合约币的符号

- 5.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
            "data": "0x95d89b41"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 5.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x6bb313a31fb23dd97d73d02217af51a515db2f41","data":"0x95d89b41"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 5.3 参数说明

  ```
  method : 方法名
  params : 参数列表
         > from : 调用合约者地址
         > to   : 合约地址
         > data : 查询合约币符号函数签名的前4个字节
  ```

- 5.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000025454000000000000000000000000000000000000000000000000000000000000"
  }
  ```

- 5.5 参数说明

  ```
  result : 返回合约币符号编码过后的数据,需要进行解码转换为字符串
  ```

#### 6. 获取合约币的拥有者

- 6.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
            "data": "0x8da5cb5b"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 6.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x6bb313a31fb23dd97d73d02217af51a515db2f41","data":"0x8da5cb5b"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 6.3 参数说明

  ```
  "latest"表示查询最新区块的结果,也可以传区块号进行查询,如查询已知合约部署的区块号为:5707674,如此时将"latest"改为"5707674",
  就可以得到本合约部署时合约初始拥有者的地址
  ```

- 6.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  }
  ```

- 6.5 参数说明

  ```
  result : 此时传入的是latest,返回合约当前拥有者的地址,即:0xe79fead329b69540142fabd881099c04424cc49f
  ```

#### 7. 获取合约转账的状态

- 7.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x3b8fecfb4c46b85b751b91d269b604f6feec85f2",
            "data": "0x5c975abb"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 7.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x3b8fecfb4c46b85b751b91d269b604f6feec85f2","data":"0x5c975abb"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 7.3 参数说明

  ```
  "latest"表示查询最新区块的结果,也可以传区块号进行查询,如查询已知合约部署的区块号为:17119506,如此时将"latest"改为"17119506",
  就可以得到本合约此区块高度状态
  ```

- 7.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x0000000000000000000000000000000000000000000000000000000000000000"
  }
  ```

  或者

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x0000000000000000000000000000000000000000000000000000000000000001"
  }
  ```

- 7.5 参数说明

  ```
  result : 返回合约当前合约是否允许转账操作,0表示(false)允许转账,1表示(true)不允许转账
  ```

#### 8. 查询授权金额

- 8.1 请求

  ```
  {
    "jsonrpc": "2.0",
    "method": "brc_call",
    "params": [
        {
            "from": "0xe79fead329b69540142fabd881099c04424cc49f",
            "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
            "data": "0xdd62ed3e0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"
        },
        "latest"
    ],
    "id": 1
  }
  ```

- 8.1.1 data字段说明

  ```
  固定字段(查询授权金额签名前4个字节)+授权地址+被授权地址
  0xdd62ed3e
  +
  0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879
  +
  000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb
  ==>
  0xdd62ed3e0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb
  ```

- 8.2 指令示例

  ```
  curl -d '{"jsonrpc":"2.0","method":"brc_call","params":[{"from":"0xe79fead329b69540142fabd881099c04424cc49f","to":"0x6bb313a31fb23dd97d73d02217af51a515db2f41","data":"0xdd62ed3e0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"}, "latest"],"id":1}' http://47.74.235.122:32003
  ```

- 8.3 参数说明

  ```
  "latest"表示查询最新区块的结果,也可以传区块号进行查询,如查询已知合约部署的区块号为:5707674,如此时将"latest"改为"5707674",
  就可以得到此块的时的授权金额
  ```

- 8.4 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x000000000000000000000000000000000000000000000000000000000000204d"
  }
  ```

- 8.5 参数说明

  ```
  result : 此时传入的是latest,返回前授权金额且转换为10进制得:8269
  ```





# -合约交易说明



#### brc_call的data参数示例

```
获取合约币发行总量    "data":"0x18160ddd"
获取合约币精度        "data":"0x313ce567"
获取合约币的名称      "data":"0x06fdde03"
获取合约币的符号      "data":"0x95d89b41"
获取合约币的拥有者    "data":"0x8da5cb5b"
获取某地址合约币的数量 "data":0x70a08231" + "地址"
查询授权金额          "data":"0xdd62ed3e" + "授权地址" + "被授权地址"
```

#### topics字段解释

- 1.1 topics字段解释1

  ```
  1.1.1 表示转账      :topics[0] = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"
  1.1.2 表示授权      :topics[0] = "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"
  1.1.3 表示更换合约拥有者: topics[0] = "0x07ff91ee303faa39fb867eb01411e233f560ef81a7eef1aff036a194236d1161"
  ```

- 1.2 topics字段解释2

  ```
  1.2.1 表示授权转账(包含2个事件):
    事件1固定字段:
        topics[0] = "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"
    事件2固定字段:
        topics[0] = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"
  1.2.2 表示销毁合约币(包含2个事件):
    事件1固定字段:
        topics[0] = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"
        topics[2] = "0x0000000000000000000000000000000000000000000000000000000000000000"
    事件2固定字段:
        topics[0] = "0x8102980f65c5fee2d21c925f22d022abc395e0c409616c78835cdf6d6dff613b"
  1.2.3 表示增发合约币(包含2个事件) :
    事件1固定字段:
        topics[0] = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"
        topics[1] = "0x0000000000000000000000000000000000000000000000000000000000000000"
    事件2固定字段:
        topics[0] = "0x430080bcaaf4832a6fedf62b6ce7849b50c273246fdc69a13ce54e9772008f1c"
  ```

#### 合约函数数据组装说明

- 数据组装为: 固定字段,即函数签名的前4个字节 + 加上参数的编码数据,每个参数都需要向左补全64位

- 函数的签名前4个字节为:bytes4(keccak256(‘函数名(参数类型1,参数类型2…)’));

  ```
  0x1e18dc450000000000000000000000000000000000000000000000000000000000000001
  ```

- 具体组装数据解析:

#### 1 授权 approve

- 授权数据说明(授权金额传小单位)

  ```
  函数签名前4个字节 + 被授权地址 + 授权金额(16进制)
  bytes4(keccak256('approve(address,uint256)')) == 0x095ea7b3
  0x095ea7b3 +
  000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb +
  00000000000000000000000000000000000000000000000000000002540be400
  ==>
  0x095ea7b3000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb00000000000000000000000000000000000000000000000000000002540be400
  测试网实例:
  区块号:17090679
  交易哈希:0x0a8c3b62b9bfebec489a81d35f6a8081cac1edacbb1e483651f3f71c9b82db10
  ```

- 交易查询指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x0a8c3b62b9bfebec489a81d35f6a8081cac1edacbb1e483651f3f71c9b82db10"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x1d7f584c5ad7f9c2cd3ac7585f618498864a79833f02a769f42a506c937a7fdd",
        "blockNumber": 17090679,
        "contractAddress": "0x8d0e494e76a7f0343cb15e060fdb7baed72e81d3",
        "cumulativeGasUsed": "0xb2f1",
        "from": "0x7ec9885051c07b4a80c03c683487a20274ed7879",
        "gasUsed": "0xb2f1",
        "logs": [
            {
                "address": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
                "blockHash": "0x1d7f584c5ad7f9c2cd3ac7585f618498864a79833f02a769f42a506c937a7fdd",
                "blockNumber": 17090679,
                "data": "0x0000000000000000000000000000000000000000000000000000000000001000",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
                    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0x0a8c3b62b9bfebec489a81d35f6a8081cac1edacbb1e483651f3f71c9b82db10",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000001000000001000000000000000000000000000000000000000001000000000200000000000000000000000000400000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000200000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000100000000100000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
        "transactionHash": "0x0a8c3b62b9bfebec489a81d35f6a8081cac1edacbb1e483651f3f71c9b82db10",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  topics[0] 为固定的授权事件字段
  topics[1] 为授权地址,topics[2]为得到权限的地址
  "data" 字段为授权的代币金额,转换为10进制得到:4096
  "to" 字段表示合约地址
  ```

#### 2. 转账 transfer

- 转账说明(转账金额传小单位)

  ```
  函数签名前4个字节 + 接受转账的地址 + 转账金额(16进制)
  bytes4(keccak256('transfer(address,uint256)')) == 0xa9059cbb
  0xa9059cbb + 
  000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec +
  0000000000000000000000000000000000000000000000000000000000002710
  ==> 0xa9059cbb000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec0000000000000000000000000000000000000000000000000000000000002710
  测试网实例:
  区块号:17107181
  交易哈希:0xa142e4229e36d7b7d38258c0fd53d86e226964494dfb717889849aa91069b970
  ```

- 交易查询指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0xa142e4229e36d7b7d38258c0fd53d86e226964494dfb717889849aa91069b970"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x9096c8aa70fd600cd7fe2a9d73b8861a1dc61ff6356204f1a28484eb5d2bb799",
        "blockNumber": 17107181,
        "contractAddress": "0x1dce46deb6dea9e5d43434a50195aac741d6a68b",
        "cumulativeGasUsed": "0xc9f0",
        "from": "0x7ec9885051c07b4a80c03c683487a20274ed7879",
        "gasUsed": "0xc9f0",
        "logs": [
            {
                "address": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
                "blockHash": "0x9096c8aa70fd600cd7fe2a9d73b8861a1dc61ff6356204f1a28484eb5d2bb799",
                "blockNumber": 17107181,
                "data": "0x0000000000000000000000000000000000000000000000000000000000002710",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
                    "0x000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec"
                ],
                "transactionHash": "0xa142e4229e36d7b7d38258c0fd53d86e226964494dfb717889849aa91069b970",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000001000000001000001800000000000000000000000000000000001000000000000000000000000000000000000400000000000000000000000000000000000000000000000000008000000000000000000000000000000000000008000000000000000000400000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
        "transactionHash": "0xa142e4229e36d7b7d38258c0fd53d86e226964494dfb717889849aa91069b970",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
    "0x000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec"
  ]
  topics[0]转账固定字段,topics[1]转出代币地址,topics[2]得到代币的地址,data字段表示代币的金额,转换为10进制得到10000
  ```

#### 3. 授权转账 transferFrom

- 授权转账说明(授权转账金额传小单位)

  ```
  函数签名前4个字节 + 转出地址 + 接受转账的地址 + 转账金额(16进制)
  bytes4(keccak256('transferFrom(address,address,uint256)')) == 0x23b872dd
  0x23b872dd +
  0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879 +
  000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805 +
  0000000000000000000000000000000000000000000000000000000000000009
  ==>0x23b872dd0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879000000000000000000000000042610e447c94ff0824b7aa89fab123930edc8050000000000000000000000000000000000000000000000000000000000000009
  测试网实例:
  区块号:17090816
  交易哈希:0xd50767bf4982d8352d1cbf65f4e4c86c477a57ee896019f87854656c12a76778
  ```

- 授权转账交易查询

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0xd50767bf4982d8352d1cbf65f4e4c86c477a57ee896019f87854656c12a76778"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x275a9dd53120183229a59fe9f58882c41f5b49e3807738a928c930704c8d4af7",
        "blockNumber": 17090816,
        "contractAddress": "0x20c565b00281f6ba12a5c99fab7fec35bc38152f",
        "cumulativeGasUsed": "0xed82",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0xed82",
        "logs": [
            {
                "address": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
                "blockHash": "0x275a9dd53120183229a59fe9f58882c41f5b49e3807738a928c930704c8d4af7",
                "blockNumber": 17090816,
                "data": "0x0000000000000000000000000000000000000000000000000000000000000ff7",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
                    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0xd50767bf4982d8352d1cbf65f4e4c86c477a57ee896019f87854656c12a76778",
                "transactionIndex": 0,
                "type": "mined"
            },
            {
                "address": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
                "blockHash": "0x275a9dd53120183229a59fe9f58882c41f5b49e3807738a928c930704c8d4af7",
                "blockNumber": 17090816,
                "data": "0x0000000000000000000000000000000000000000000000000000000000000009",
                "logIndex": 1,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
                    "0x000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805"
                ],
                "transactionHash": "0xd50767bf4982d8352d1cbf65f4e4c86c477a57ee896019f87854656c12a76778",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000001000000001000000000000000000000000000000000000000001000000000200000000000000000000000000400000000000000000000000200000000000000000000000000008000000000000000000000000000000000000000200000000000000000400000000000000000000000000000000000010000000000000000000000000000000000000000100000000000100000000000000000000020000000000000000000000000000000000000000000000080000000000000000000102000000100000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
        "transactionHash": "0xd50767bf4982d8352d1cbf65f4e4c86c477a57ee896019f87854656c12a76778",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  (1). 授权转账会触发2个事件,1个是授权事件,1个是转账事件,扫块是需要注意不能单独与转账和授权事件混同了
  (2). 第一个重新授权事件
  "topics": [
    "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  ]
    (2.1) topics[0]授权的固定时段
    (2.2) topics[1]和topics[2]表示授权地址和得到权限的地址
    (2.3) "data"字段,转10进制:4087,此次交易过后topics[2]还剩下的权限金额
  ==>
  (3). 第二个事件,与转账事件相同
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
    "0x000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805"
  ]
    (3.1) topics[0] 转账固定字段
    (3.2) topics[1] 代币转出地址,topocs[2]代币转入地址
    (3.3) "data"字段表示转账代币的金额,此时转换为十进制为9
  (4) "to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83" 表示合约地址
  ```

#### 4. 增发代币 increaseSupply

- 增发代币说明(增发代币金额传小单位)

  ```
  函数签名前4个字节 + 增发代币的数量(16进制)
  bytes4(keccak256('increaseSupply(uint256)')) == 0xb921e163
  0xb921e163 +
  0000000000000000000000000000000000000000000000000000000000000003
  ==>
  0xb921e1630000000000000000000000000000000000000000000000000000000000000003
  测试网实例:
  区块号:17101586
  交易哈希:0x789dbd08ab7b921de3b462c6b5e2411fe2ea8728f932735f15eead07bdc08b71
  ```

- 查询交易指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x789dbd08ab7b921de3b462c6b5e2411fe2ea8728f932735f15eead07bdc08b71"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x7088d1825599356ecb66053b0eef20547e3c6b6c537e7e7cbf114c570ae70b5f",
        "blockNumber": 17101586,
        "contractAddress": "0x8b8a638dc7dcb3f42efa8a78a96024515b48c6d1",
        "cumulativeGasUsed": "0x93f2",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0x93f2",
        "logs": [
            {
                "address": "0xcd6b6f7651e3828f22e25692eb9271316cf6b59e",
                "blockHash": "0x7088d1825599356ecb66053b0eef20547e3c6b6c537e7e7cbf114c570ae70b5f",
                "blockNumber": 17101586,
                "data": "0x0000000000000000000000000000000000000000000000000000000000007530",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x0000000000000000000000000000000000000000000000000000000000000000",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0x789dbd08ab7b921de3b462c6b5e2411fe2ea8728f932735f15eead07bdc08b71",
                "transactionIndex": 0,
                "type": "mined"
            },
            {
                "address": "0xcd6b6f7651e3828f22e25692eb9271316cf6b59e",
                "blockHash": "0x7088d1825599356ecb66053b0eef20547e3c6b6c537e7e7cbf114c570ae70b5f",
                "blockNumber": 17101586,
                "data": "0x0000000000000000000000000000000000000000000000000000000000007530",
                "logIndex": 1,
                "polarity": false,
                "topics": [
                    "0x430080bcaaf4832a6fedf62b6ce7849b50c273246fdc69a13ce54e9772008f1c",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0x789dbd08ab7b921de3b462c6b5e2411fe2ea8728f932735f15eead07bdc08b71",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000200000100000000000000000000000000000000000000000000000000000000000000000000000008000000040000000000000000000000000000000200000000020000000000000000000800000800000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000040000000102400000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0xcd6b6f7651e3828f22e25692eb9271316cf6b59e",
        "transactionHash": "0x789dbd08ab7b921de3b462c6b5e2411fe2ea8728f932735f15eead07bdc08b71",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  增发代币包含2个事件
  (1)事件1:
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  ]
    (1.1)topics[0]与topics[1]为固定字段, 确认后解析第二个事件
  ==>
  (2)事件2
  "topics": [
    "0x430080bcaaf4832a6fedf62b6ce7849b50c273246fdc69a13ce54e9772008f1c",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  ]
    (2.1) topics[0]增发币固定字段,topics[1]增发币的地址
    (2.2) data字段表示增发币的数量,转10进制为30000
    (2.3) "to": "0xcd6b6f7651e3828f22e25692eb9271316cf6b59e"为合约地址
  ```

#### 5. 销毁代币 burn

- 销毁代币说明 (销毁代币传小单位)

  ```
  函数签名前4个字节 + 销毁代币的数量(16进制)
  bytes4(keccak256('burn(uint256)')) == 0x42966c68
  0x42966c68 +
  0000000000000000000000000000000000000000000000000000000000000001
  ==>
  0x42966c680000000000000000000000000000000000000000000000000000000000000001
  测试网实例:
  区块号:17090319
  交易哈希:0x827e041b1a1f8c51e5d1d85cbc966f400f890525401925184d6775a836bfa9c0
  ```

- 交易查询指令

  ```
  {"jsonrpc":"2.0","method":"brc_getBlockDetialByNumber","params":["17090319", true],"id":1}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0xdac66b6193a136a365a579d8f5616425c3af8f3709ad6ae4b5dc74892c5b5c77",
        "blockNumber": 17090319,
        "contractAddress": "0x6dd981b542a52fa4494ded7e6c280e991ca18d79",
        "cumulativeGasUsed": "0x94c1",
        "from": "0x7ec9885051c07b4a80c03c683487a20274ed7879",
        "gasUsed": "0x94c1",
        "logs": [
            {
                "address": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
                "blockHash": "0xdac66b6193a136a365a579d8f5616425c3af8f3709ad6ae4b5dc74892c5b5c77",
                "blockNumber": 17090319,
                "data": "0x0000000000000000000000000000000000000000000000000000000000002710",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
                    "0x0000000000000000000000000000000000000000000000000000000000000000"
                ],
                "transactionHash": "0x827e041b1a1f8c51e5d1d85cbc966f400f890525401925184d6775a836bfa9c0",
                "transactionIndex": 0,
                "type": "mined"
            },
            {
                "address": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
                "blockHash": "0xdac66b6193a136a365a579d8f5616425c3af8f3709ad6ae4b5dc74892c5b5c77",
                "blockNumber": 17090319,
                "data": "0x0000000000000000000000000000000000000000000000000000000000002710",
                "logIndex": 1,
                "polarity": false,
                "topics": [
                    "0x8102980f65c5fee2d21c925f22d022abc395e0c409616c78835cdf6d6dff613b",
                    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879"
                ],
                "transactionHash": "0x827e041b1a1f8c51e5d1d85cbc966f400f890525401925184d6775a836bfa9c0",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000001000000001000000000000000000000000000000000000000001000000000000000000008000000000000000400000000000000000000000000000000000000000000400000008000000000000000000000000000000000000000000000000020000000400000000000800000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000002000000100000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
        "transactionHash": "0x827e041b1a1f8c51e5d1d85cbc966f400f890525401925184d6775a836bfa9c0",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  (1) 销毁代币会触发2个事件,1个事件同转账的事件,1个事件为新增的记录销毁的事件
  (2) 第1个事件
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
    "0x0000000000000000000000000000000000000000000000000000000000000000"
  ]
  topics[0]和topics[2]为固定字段,扫块时判断好后,进行第二个事件的解析
  ==>
  (3) 第二个事件
  "topics": [
    "0x8102980f65c5fee2d21c925f22d022abc395e0c409616c78835cdf6d6dff613b",
    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879"
  ]
  (1) topics[0] 为销毁代币的固定字段, topics[1]为销毁代币的地址,data字段表示销毁代币的数量,此时转为10进制得到:10000
  (2) to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83", 表示合约地址
  ```

#### 6. 暂停合作转账 pauseContractTransfer

- 暂停转账数据说明

  ```
  函数签名前4个字节 + 暂停(true)或者取消暂停(fase)
  bytes4(keccak256('pauseContractTransfer(bool)')) == 0x1e18dc45
  0x1e18dc45 +
  0000000000000000000000000000000000000000000000000000000000000001
  (取消暂停为:0000000000000000000000000000000000000000000000000000000000000000)
  ==>
  0x1e18dc450000000000000000000000000000000000000000000000000000000000000001
  测试网实例:
  区块号:17090942
  交易哈希:0xb7e0c324ad7a2a40cced65050e97ca8019ee63966da88568131c893f5f56bdb4
  ==>
  暂停转账功能
  区块号:17091201
  交易哈希:0x853f5f15f5effffaa93d23700e361fac01f9c6140a8a73f79f21e11cba86fca6
  ```

- 查询指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0xb7e0c324ad7a2a40cced65050e97ca8019ee63966da88568131c893f5f56bdb4"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x4ad2f1004143472199660de38ad200eb655d4560bc5f1cd9abb8eff670980275",
        "blockNumber": 17090942,
        "contractAddress": "0x89388bc4121bcf9035076498108d456bc405a522",
        "cumulativeGasUsed": "0x6c4a",
        "from": "0x7ec9885051c07b4a80c03c683487a20274ed7879",
        "gasUsed": "0x6c4a",
        "logs": [],
        "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
        "transactionHash": "0xb7e0c324ad7a2a40cced65050e97ca8019ee63966da88568131c893f5f56bdb4",
        "transactionIndex": 0
    }
  }
  ```

#### 7. 更换合约拥有者 changeContractOwner

- 更换合约拥有者数据说明

  ```
  函数签名前4个字节 + 新的合约拥有者地址
  bytes4(keccak256('changeContractOwner(address)')) == 0x3ead67b5
  0x3ead67b5 +
  00000000000000000000000074ad8b5c9ef47a8cc01cb1cf7da7510b54e8318f
  ==>
  0x3ead67b500000000000000000000000074ad8b5c9ef47a8cc01cb1cf7da7510b54e8318f
  测试网实例:
  区块号:17091326
  交易哈希:0xa04e307cb17f8bd30037a6bd5f45e82baac3bd00a31da9f8290d3f34adccbf39
  ```

- 查询交易指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0xa04e307cb17f8bd30037a6bd5f45e82baac3bd00a31da9f8290d3f34adccbf39"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x469958ed9f4326ae05716811129352044cc5c5ae821cdd20c23ac91a6aad553b",
        "blockNumber": 17091326,
        "contractAddress": "0x9f4edcd2d6c3e1ea2d9e389589fa5aea19c8e735",
        "cumulativeGasUsed": "0x7774",
        "from": "0x7ec9885051c07b4a80c03c683487a20274ed7879",
        "gasUsed": "0x7774",
        "logs": [
            {
                "address": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
                "blockHash": "0x469958ed9f4326ae05716811129352044cc5c5ae821cdd20c23ac91a6aad553b",
                "blockNumber": 17091326,
                "data": "",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0x07ff91ee303faa39fb867eb01411e233f560ef81a7eef1aff036a194236d1161",
                    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0xa04e307cb17f8bd30037a6bd5f45e82baac3bd00a31da9f8290d3f34adccbf39",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000001000000001000000000000000000000000000000000020000001000000000200000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000008000000000000000000000100000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x7ce71f894f74057c7b7a3cb05174ae2f97179e83",
        "transactionHash": "0xa04e307cb17f8bd30037a6bd5f45e82baac3bd00a31da9f8290d3f34adccbf39",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  "topics": [
    "0x07ff91ee303faa39fb867eb01411e233f560ef81a7eef1aff036a194236d1161",
    "0x0000000000000000000000007ec9885051c07b4a80c03c683487a20274ed7879",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  ]
  topics[0]更换合约拥有者固定字段,topics[1]更换前合约的拥有者,topics[2]更换后合约的拥有者
  ```

![合约扫块流程](https://docs.zmatrix.cn/uploads/contractCoin/images/m_b374bbd167e0368c4cd63096b29f1bf3_r.png)

文档