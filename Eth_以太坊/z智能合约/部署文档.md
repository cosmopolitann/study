##  ERC20代币合约部署与执行

##### [返回主页目录](https://github.com/BaerChain/cpp-lsac/wiki)

##### [返回上级目录](https://github.com/BaerChain/cpp-lsac/wiki/BaerChain-合约)

### [目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu)

#### [1 ERC20代币合约部署](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu1)

- [1.1 ERC20代币合约准备](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu1)
- [1.2 获取合约二进制文件和ABI接口](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu2)
- [1.3 部署合约](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu3)

#### [2. 执行合约](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu4)

#### [3. 智能合约ABI说明](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu5)

#### [4. 合约ABI分析使用](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu6)

- [4.1 构造函数ABI](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu6)
- [4.2 事件ABI](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu7)
- [4.3 传入参数的查询接口ABI](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu8)
- [4.4 无传入参数的查询接口ABI](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu9)
- [4.5 交易接口ABI](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu10)

#### [5. 交易接口和查询接口汇总](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu11)

#### [6. 交易接口签名执行交易](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu12)

#### [7. 查询接口说明](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu13)

#### [8. 调用brc_call方法进行查询](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu14)

------

###### 

#### 1. ERC20合约部署 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 1.1 ERC20合约准备
  - 备注：本合约主要用于参考指导，实际发行ERC20代币合约，请以实际数据为准

> 1). 安全库合约请参考[SafeMath.sol](https://github.com/BaerChain/cpp-lsac/wiki/SafeMath)

> 2). ERC20合约请参考[ERC20.sol](https://github.com/BaerChain/cpp-lsac/wiki/ERC20)

> 3). 测试发行代币合约请参考[TestToken.sol](https://github.com/BaerChain/cpp-lsac/wiki/TestToken)

###### 

- 1.2 获取合约二进制文件和ABI接口

   

  返回目录

  - 由于在线编辑器的可视性和可调试性，在这里介绍其方法

  - 可在在线编辑器[remix](http://remix.ethereum.org/)，编译得到ABI接口和合约的二进制代码

  - 注意：在编译TestToken的时候，需要在部署合约的时候传入，你的代币名称、符号、精度、以及发行代币的数量,具体请查看上述合约ERC20.sol及TestToken.sol的功能及描述，本测试币输入为：

    ```
    _name        : TestERC20Token
    _symbol      : TET
    _decimals    : 8
    _titalSupply : 20000
    ```

  - 编译部署得到的[ABI](https://github.com/BaerChain/cpp-lsac/wiki/ABI),二进制文件[Bytecode](https://github.com/BaerChain/cpp-lsac/wiki/Bytecode)

###### 

- 1.3 部署合约

   

  返回目录

  - 部署合约TestToken.sol, json文件为[deContract.json](https://github.com/BaerChain/cpp-lsac/wiki/deContract)

  - 将上述得到的合约二进制文件”contract”:””字段，如deContract.json文件所示

  - deContract.json参数说明

    ```
    from     : [40个字节] 部署合约时为合约部署者地址，执行合约时为调用合约者的地址
    to       : [40个字节] 部署合约时填0或者空，执行合约时为合约地址
    value    : 数值,默认为0
    data     : 数组结构
               > type     : 数值为5表示部署合约，数值为6表示调用合约
               > contract : 方法签名和编码参数的哈希值，即部署合约和执行合约时的input的内容
    chainId  : 链ID，需和创世chainId一致
    nonce    : 每次部署和执行合约后需要+1
    gas      : 为交易执行提供的 gas 整数
    gasPrice : 用于每一个支付 gas 的 gasPrice 整数
    keys     : 交易签名的私钥，即部署合约时为部署合约者私钥，调用合约时为调用合约者私钥
    ```

  - 编译目录下执行 获取cmdWallet 执行文件

    ```
    cd cpp-lsac/build : 进入目录
    cmake ..          : 执行指令
    make              : 执行指令   
    cd cpp-lsac/build/wallet/cmdWallet : 此目录下可找到刚才编译好的cmdWallet执行文件
    ```

  - 执行指令，部署合约

     

    返回目录

    ```
    ./cmdWallet -j deContract.json -s 127.0.0.1:8081
    ```

  - 返回结果

    ```
    {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x4b1ea38a5ec21fde14cbf61fd92a7febf50589a8acdf6b455ecae75166962d66"
    }
    ```

  - 根据返回hash,查询合约地址

    ```
    curl -X POST --data '{"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x4b1ea38a5ec21fde14cbf61fd92a7febf50589a8acdf6b455ecae75166962d66"],"id":1}' http://127.0.0.1:8081
    ```

  - 返回结果

     

    返回目录

    ```
    {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
       "blockHash": "0xe74f729f1b70243bc5c690d80bd79804f6c4ff7f6a48180ba68e391f3822c1ee",
       "blockNumber": 5211561,
       "contractAddress": "0x709fb7a8e70b09bff61f7b0688f33de718ef6a10",
       "cumulativeGasUsed": "0x190eba",
       "from": "0x84db59804e311bdb6806cce6f82c4038b60456a1",
       "gasUsed": "0x190eba",
       "logs": [],
       "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
       "status": "1",
       "to": "0x0000000000000000000000000000000000000000",
       "transactionHash": "0x4b1ea38a5ec21fde14cbf61fd92a7febf50589a8acdf6b455ecae75166962d66",
       "transactionIndex": 0
    }
    }
    ```

  - “contractAddress”: “0x709fb7a8e70b09bff61f7b0688f33de718ef6a10”，可得到合约地址。

###### 

#### 2. 执行合约 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 执行合约的json文件为[exContract.json](https://github.com/BaerChain/cpp-lsac/wiki/exContract)

  - 将上述得到的合约地址放入exContract.json文件的to字段

  - exContract.json参数说明

    ```
    from     : [40个字节] 部署合约时为合约部署者地址，执行合约时为调用合约者的地址
    to       : [40个字节] 部署合约时填0或者空，执行合约时为合约地址
    value    : 数值,默认为0
    data     : 数组结构
               > type     : 数值为5表示部署合约，数值为6表示调用合约
               > contract : 方法签名和编码参数的哈希值，即部署合约和执行合约时的input的内容
    chainId  : 链ID，需和创世chainId一致
    nonce    : 每次部署和执行合约后需要+1
    gas      : 为交易执行提供的 gas 整数
    gasPrice : 用于每一个支付 gas 的 gasPrice 整数
    ```

- 编译目录下执行 获取cmdWallet 执行文件

  ```
  cd cpp-lsac/build : 进入目录
  cmake ..          : 执行指令
  make              : 执行指令  
  cd cpp-lsac/build/wallet/cmdWallet : 此目录下可找到刚才编译好的cmdWallet执行文件
  ```

- 执行合约

  - 本次测试transfer转账函数（转账最小单位1000给地址0xe523e7c59a0725afd08bc9751c89eed6f8e16dec）

    ```
    ./cmdWallet -j exContract.json -s 127.0.0.1:8081
    ```

- 返回结果

  ```
  {
   "id": 1,
   "jsonrpc": "2.0",
   "result": "0xdf4307f0fc67ba8f04c6c0153a4610c2c636e1f472359e8931a6994043a4306c"
  }
  ```

- 根据返回hash,查询合约地址 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

  ```
  curl -X POST --data '{"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0xdf4307f0fc67ba8f04c6c0153a4610c2c636e1f472359e8931a6994043a4306c"],"id":1}' http://127.0.0.1:8081
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x9b9a0387e912bf1b56250473be2c22544f872f7b722d7a92daae599214d1c79a",
        "blockNumber": 5211838,
        "contractAddress": "0xf74444fd4868b6334ec5341cdc4ed8a1a247e6e3",
        "cumulativeGasUsed": "0xc8af",
        "from": "0x84db59804e311bdb6806cce6f82c4038b60456a1",
        "gasUsed": "0xc8af",
        "logs": [
            {
                "address": "0x709fb7a8e70b09bff61f7b0688f33de718ef6a10",
                "blockHash": "0x9b9a0387e912bf1b56250473be2c22544f872f7b722d7a92daae599214d1c79a",
                "blockNumber": 5211838,
                "data": "0x00000000000000000000000000000000000000000000000000000000000003e8",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                    "0x000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec"
                ],
                "transactionHash": "0xdf4307f0fc67ba8f04c6c0153a4610c2c636e1f472359e8931a6994043a4306c",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000001800000000000000000000000000000000000000200000200000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000008200000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000102000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x709fb7a8e70b09bff61f7b0688f33de718ef6a10",
        "transactionHash": "0xdf4307f0fc67ba8f04c6c0153a4610c2c636e1f472359e8931a6994043a4306c",
        "transactionIndex": 0
    }
  }
  ```

  > 由返回结果可以看到执行转账transfer成功的logs

###### 

#### 3. 智能合约ABI说明 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 3.1 说明: 智能合约 ABI 用一个数组表示，其中会包含多个用 JSON 格式表示的 Function 或 Event.

- 3.1.1 Function 说明

  - 一般为 7 个参数, 特定函数除外,如构造函数,后继会具体说明

    ```
    (1) name   ：a string，function 名称
    (2) type   ：a string，"function", "constructor", or "fallback"
    (3) inputs ：an array，function 输入的参数，包含：
    (3.1) type         ：a string，参数的 data type(如: uint256)
    (3.2) internalType : a string,与(3.1)一致,表示同一个参数
    (3.3) name         ：a string，参数名
    (4) outputs ：an array，function 的返回值，和 inputs 使用相同表示方式。如果沒有返回值可忽略，值为 []
    (5) payable ：true，function 是否可收 Ether，预设为 false
    (6) constant：true，function 不会改写区块链状态，会改写为false(注意:不是false表示不改写)
    (7) stateMutability：a string，其值可能为以下其中之一："pure"（不会读写区块链状态）、"view"（只读不写区块链状态）、"payable" and "nonpayable"（会改区块链状态，且如可收 BRC 为 "payable"，反之为 "nonpayable"）
    ```

- 3.1.2 Event说明

  - 共有 4 个参数

    ```
    (1) name: a string，event 的名称
    (2) type: a string，always "event",即默认为"event"
    (3) inputs: an array，输入参数，包含：
    (3.1) name: a string，参数名称
    (3.2) type: a string，参数的 data type(e.g. uint256)
    (3.3) internalType: 同(3.2)表示同一个参数
    (3.4) indexed: true，如果这个参数被定义为 indexed ，反之为 false
    (4) anonymous: 如果 event 被定义为 anonymous(匿名)为true; 一般事件都会取名,默认为false
    ```

###### 

#### 4. 合约ABI分析使用 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 获取ABI接口,如[合约ABI接口](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu), 由智能合约ABI说明可知生成合约的ABI是一个数组结构,以下将分析其中所含元素,且每个接口一定是public的

##### 4.1 构造函数ABI

- 备注:参数的internalType和type表示同一参数

- 4.1.1 分析ABI[0]

  ```
  ABI[0] = {
    "inputs": [{
        "internalType": "string",
        "name": "_name",
        "type": "string"
    }, {
        "internalType": "string",
        "name": "_symbol",
        "type": "string"
    }, {
        "internalType": "uint8",
        "name": "_decimals",
        "type": "uint8"
    }, {
        "internalType": "uint256",
        "name": "_totalSupply",
        "type": "uint256"
    }],
    "payable": false,
    "stateMutability": "nonpayable",
    "type": "constructor"
  }
  ```

- 4.1.2 分析说明

  ```
  (1) "type": "constructor" 可知为一个构造函数
  (2) "stateMutability": "nonpayable" 表示该函数不可接收链币BRC
  (3) "payable": false, 表示该函数不可接收链币BRC,此时同stateMutability
  (4) "inputs"字段可以看出本构造函数传入了4个参数,参数的名称和类型对应为:
    "_name":"string", "_symbol":"string", "_symbol":"uint8", "_totalSupply":"uint256"
    即可知构造函数为:constructor(string _name, string _symbol, uint8 _symbol, _totalSupply uint256)
  ```

###### 

##### 4.2 事件ABI [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 4.2.1 分析ABI[1]

  ```
  ABI[1] = {
    "anonymous": false,
    "inputs": [{
        "indexed": true,
        "internalType": "address",
        "name": "owner",
        "type": "address"
    }, {
        "indexed": true,
        "internalType": "address",
        "name": "spender",
        "type": "address"
    }, {
        "indexed": false,
        "internalType": "uint256",
        "name": "value",
        "type": "uint256"
    }],
    "name": "Approval",
    "type": "event"
  }
  ```

- 4.2.2 分析说明

  ```
  (1) "type": "event" 可知为一个事件
  (2) "name": "Approval" 可知事件的名称为Approval,即一个授权事件
  (3) "anonymous": false 表示本事件不是匿名事件,由(2)可知
  (4) "inputs" 可知本事件传入了3个参数,可知参数的名称类型定义为:
     "owner":"address", "spender":"address", "value":"uint256",且前面2个参数"indexed":true,
     可知事件为: event Approval(address indexed owner, address indexed spender, uint256 value)
  ```

###### 

##### 4.3 传入参数的查询接口ABI [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 4.3.1 分析ABI[6]

  ```
  ABI[6] = {
    "constant": true,
    "inputs": [{
        "internalType": "address",
        "name": "owner",
        "type": "address"
    }, {
        "internalType": "address",
        "name": "spender",
        "type": "address"
    }],
    "name": "allowance",
    "outputs": [{
        "internalType": "uint256",
        "name": "",
        "type": "uint256"
    }],
    "payable": false,
    "stateMutability": "view",
    "type": "function"
  }
  ```

- 4.3.2 分析说明

  ```
  (1) "type": "function", 表示为函数
  (2) "stateMutability": "view", view表示读取, 说明该函数用于查询
  (3) "payable": false, 表示该函数不可接收链币BRC
  (4) "name": "allowance", 表示该函数的名称为allowance
  (5) "constant": true, 表示该函数不会改写区块链状态
  (6) "inputs" 可知该函数传入了2个参数, 且参数名称对应类型为"owner":"address", "spender":"address"
    可知该函数为: allowance(address owner, address spender)
  (7) "outputs" 可知,该函数返回一个值, 该值的类型是一个uint256
  ```

- 4.3.3 由上可知本函数allowance(address owner, address spender)是查询一个地址给另一个地址授权的金额是多少,返回值uint256 即为授权的金额

###### 

##### 4.4 无传入参数的查询接口ABI [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 4.4.1 分析ABI[11]

  ```
  ABI[11]= {
    "constant": true,
    "inputs": [],
    "name": "decimals",
    "outputs": [{
        "internalType": "uint8",
        "name": "",
        "type": "uint8"
    }],
    "payable": false,
    "stateMutability": "view",
    "type": "function"
  }
  ```

- 4.4.2 分析说明

  ```
  (1) "type": "function", 表示为函数
  (2) "stateMutability": "view", view表示读取, 说明该函数用于查询
  (3) "payable": false, 表示该函数不可接收链币BRC
  (4) "name": "decimals", 表示该函数的名称为decimals
  (5) "constant": true, 表示该函数不会改写区块链状态
  (6) "inputs": [],说明该函数无传入参数, 即该函数为: decimals()
  (7) "outputs" 可知,该函数返回一个值, 该值的类型是一个uint8
  ```

- 4.4.3 由函数可知 decimals()为查询代币精度的函数

###### 

##### 4.5 交易接口ABI [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 4.5.1 分析ABI[7]

  ```
  ABI[7] = {
    "constant": false,
    "inputs": [{
        "internalType": "address",
        "name": "spender",
        "type": "address"
    }, {
        "internalType": "uint256",
        "name": "amount",
        "type": "uint256"
    }],
    "name": "approve",
    "outputs": [{
        "internalType": "bool",
        "name": "",
        "type": "bool"
    }],
    "payable": false,
    "stateMutability": "nonpayable",
    "type": "function"
  }
  ```

- 4.5.2 分析说明

  ```
  (1) "type": "function", 表示为函数
  (2) "stateMutability": "nonpayable", 表示该函数不可接收链币BRC
  (3) "payable": false, 表示该函数不可接收链币BRC, 此时同"stateMutability"
  (4) "name": "approve", 表示该函数的名称为approve
  (5) "constant": false, 表示该函数会改写区块链状态
  (6) "inputs" 可知该函数传入了2个参数, 且参数名称对应类型为"spender":"address", "amount":"uint256"
    可知该函数为: approve(spender owner, uint256 amount)
  (7) "outputs" 可知,该函数返回一个值, 该值的类型是一个bool类型
  ```

- 4.5.3 由本函数 approve(spender owner, uint256 amount)可知为合约的授权函数,即为地址owner授权使用的金额为amount,成功返回true

###### 

##### 5. 交易接口和查询接口汇总 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 5.1 交易接口汇总

  ```
  (1) approve(address spender, uint256 amount) 返回值bool
  (2) transfer(address recipient, uint256 amount) 返回值bool
  (3) transferFrom(address sender, address recipient, uint256 amount) 返回值bool
  (4) pauseContractTransfer(bool _pause) 返回值bool, 参数_pause设置成功,则返回的bool与_pause相同
  (5) burn(uint256 subValue) 无返回值
  (6) increaseSupply(uint256 addValue) 无返回值
  (7) changeContractOwner(address newOwner) 无返回值
  ```

- 5.2 查询接口汇总

  ```
  (1) allowance(address owner, address spender) 返回值uint256
  (2) balanceOf(address account) 返回值uint256
  (3) decimals() 返回值uint8
  (4) owner() 返回值address
  (5) name() 返回值string
  (6) paused() 返回值bool
  (7) symbol() 返回值string
  (8) totalSupply() uint256
  ```

###### 

##### 6. 交易接口签名执行交易 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 6.1 数据组装说明

  ```
  数据组装为: 固定字段,即函数签名的前4个字节 + 加上参数的编码数据,每个参数都需要补全64位
  函数的签名前4个字节为:bytes4(keccak256(‘函数名(参数类型1,参数类型2…)’));
  ```

- 6.2 transfer转账示例

  ```
  函数签名前4个字节 + 接受转账的地址(向左补全64位) + 转账金额(金额需要转换为16进制,再向左补全64位),如下:
  (1) 函数签名前4个字节
    bytes4(keccak256('transfer(address,uint256)')) == 0xa9059cbb
  (2) 接受转账的地址
    000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec
  (3) 转账的金额
    0000000000000000000000000000000000000000000000000000000000002710
  (1)+(2)+(3)
  ===>
  data = 0xa9059cbb000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec0000000000000000000000000000000000000000000000000000000000002710
  替换执行合约中的data数据即可
  ```

###### 

##### 7. 查询接口说明 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 7.1 数据组装说明

  ```
  数据组装为: 固定字段,即函数签名的前4个字节 + 加上参数的编码数据,每个参数都需要补全64位
  函数的签名前4个字节为:bytes4(keccak256(‘函数名(参数类型1,参数类型2…)’));
  ```

- 7.2 balanceOf查询地址余额

  ```
  函数签名前4个字节 + 查询地址(向左补全64位),如下:
  (1) 函数签名前4个字节
    bytes4(keccak256('balanceOf(address)')) == 0x70a08231
  (2) 查询地址
    000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec
  (1)+(2)
  ===>
  data = 0x70a08231000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec
  ```

- 7.3 symbol查询合约币符号

  ```
  因为没有参数,即字段就为函数签名的前4个字节
  bytes4(keccak256('symbol()')) == 0x95d89b41
  ===>
  data = 0x95d89b41
  ```

###### 

##### 8. 调用brc_call方法进行查询 [返回目录](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c0i6f9fc3htu#mulu)

- 8.1.1 查询地址余额,由7.2可知查询地址e523e7c59a0725afd08bc9751c89eed6f8e16dec的签名数据为:0x70a08231000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec

- 8.1.2 故brc_call请求为

  ```
  {
  "jsonrpc": "2.0",
  "method": "brc_call",
  "params": [
      {
          "from": "0xe79fead329b69540142fabd881099c04424cc49f",
          "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
          "data": "0x70a08231000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec"
      },
      "latest"
  ],
  "id": 1
  }
  ```

- 8.1.3 参数说明

  ```
  method : 方法名
  params : 参数列表
       > from : 调用合约者地址
       > to   : 合约地址
       > data : 查询数据签名,此处为查询指定地址余额
       "latest": 表示查询最新区块的结果,也可以传区块号进行查询,如此时将"latest"改为"5707674",就可以得到此区块高度时该地址的余额
  ```

- 8.1.4 返回结果

  ```
  {
  "id": 1,
  "jsonrpc": "2.0",
  "result": "0x00000000000000000000000000000000000000000000000000470de4eb6d73ce"
  }
  ```

- 8.1.5 参数说明

  ```
  result : 此时为要查询地址的余额
  由返回结果可知,该地址的余额为:470de4eb6d73ce,转换为10进制的:20000000199979982
  ```

- 8.2 查询代币名称示例

- 8.2.1 将上述data更换为”data”: “0x06fdde03”, 即

  ```
  {
  "jsonrpc": "2.0",
  "method": "brc_call",
  "params": [
      {
          "from": "0xe79fead329b69540142fabd881099c04424cc49f",
          "to": "0x6bb313a31fb23dd97d73d02217af51a515db2f41",
          "data": "0x06fdde03"
      },
      "latest"
  ],
  "id": 1
  }
  ```

- 8.2.2 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": "0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000974657374546f6b656e0000000000000000000000000000000000000000000000"
  }
  ```

- 8.2.3 字段解析

  ```
  result可进行拆分为3个部分
  0x0000000000000000000000000000000000000000000000000000000000000020
  固定字段
  +
  0000000000000000000000000000000000000000000000000000000000000009
  字符的长度,表示有9个字节(即9个字符)
  +
  74657374546f6b656e0000000000000000000000000000000000000000000000
  2个数字表示一个字节,即截取的长度为9*2= 18,即74657374546f6b656e,转码的代币的名称为testToken
  ```

#  Go语言合约函数签名示例代码



```go
package main

import (
    "errors"
    "fmt"
    "math/big"
    "strings"

    "github.com/ethereum/go-ethereum/accounts/abi"
    "github.com/ethereum/go-ethereum/common"
)

var (
    addr  = common.HexToAddress("0xe79fead329b69540142fabd881099c04424cc49f")
    addr1 = common.HexToAddress("0x74ad8b5c9ef47a8cc01cb1cf7da7510b54e8318f")
)

func main() {
    fmt.Println("contract name data is :", getData("name"))
    fmt.Println("addr balance data is  :", getData("balanceOf", addr))
    fmt.Println("addr transfer data is :", getData("transfer", addr, big.NewInt(1000)))
}

// 获取函数即其参数的签名data， 传入函数的名称和参数
func getData(methodName string, args ...interface{}) string {

    abiParse, err := abi.JSON(strings.NewReader(contractABI))
    if err != nil {
        panic(err)
    }

    recv, err := abiParse.Pack(methodName, args...)
    if err != nil {
        panic(err)
    }

    data, err := byteToHex(recv)
    if err != nil {
        panic(err)
    }

    return data
}

// byte转换为需要使用的16进制data
func byteToHex(recv []byte) (string, error) {
    data := "0x"

    for _, v := range recv {
        c := fmt.Sprintf("%x", v)
        leng := len(c)
        if leng != 1 && leng != 2 {
            return "", errors.New("type wrong")
        }

        if leng == 1 {
            c = "0" + c
        }
        data = data + c
    }
    return data, nil
}

// 合约的ABI
const contractABI = `[
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "address",
                "name": "spender",
                "type": "address"
            },
            {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
            }
        ],
        "name": "approve",
        "outputs": [
            {
                "internalType": "bool",
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "uint256",
                "name": "subValue",
                "type": "uint256"
            }
        ],
        "name": "burn",
        "outputs": [],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "address",
                "name": "newOwner",
                "type": "address"
            }
        ],
        "name": "changeContractOwner",
        "outputs": [],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "internalType": "address",
                "name": "addr",
                "type": "address"
            },
            {
                "indexed": false,
                "internalType": "uint256",
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "IncreaseSupply",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "internalType": "address",
                "name": "addr",
                "type": "address"
            },
            {
                "indexed": false,
                "internalType": "uint256",
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "Brun",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "internalType": "address",
                "name": "oldOwner",
                "type": "address"
            },
            {
                "indexed": true,
                "internalType": "address",
                "name": "_newOwner",
                "type": "address"
            }
        ],
        "name": "ChangeContractOwner",
        "type": "event"
    },
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "uint256",
                "name": "addValue",
                "type": "uint256"
            }
        ],
        "name": "mint",
        "outputs": [],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "bool",
                "name": "_pause",
                "type": "bool"
            }
        ],
        "name": "pauseContractTransfer",
        "outputs": [
            {
                "internalType": "bool",
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "address",
                "name": "recipient",
                "type": "address"
            },
            {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
            }
        ],
        "name": "transfer",
        "outputs": [
            {
                "internalType": "bool",
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "internalType": "address",
                "name": "from",
                "type": "address"
            },
            {
                "indexed": true,
                "internalType": "address",
                "name": "to",
                "type": "address"
            },
            {
                "indexed": false,
                "internalType": "uint256",
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "Transfer",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "internalType": "address",
                "name": "owner",
                "type": "address"
            },
            {
                "indexed": true,
                "internalType": "address",
                "name": "spender",
                "type": "address"
            },
            {
                "indexed": false,
                "internalType": "uint256",
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "Approval",
        "type": "event"
    },
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "address",
                "name": "sender",
                "type": "address"
            },
            {
                "internalType": "address",
                "name": "recipient",
                "type": "address"
            },
            {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
            }
        ],
        "name": "transferFrom",
        "outputs": [
            {
                "internalType": "bool",
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "string",
                "name": "_name",
                "type": "string"
            },
            {
                "internalType": "string",
                "name": "_symbol",
                "type": "string"
            },
            {
                "internalType": "uint8",
                "name": "_decimals",
                "type": "uint8"
            },
            {
                "internalType": "uint256",
                "name": "_totalSupply",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "constructor"
    },
    {
        "constant": true,
        "inputs": [
            {
                "internalType": "address",
                "name": "owner",
                "type": "address"
            },
            {
                "internalType": "address",
                "name": "spender",
                "type": "address"
            }
        ],
        "name": "allowance",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [
            {
                "internalType": "address",
                "name": "account",
                "type": "address"
            }
        ],
        "name": "balanceOf",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "decimals",
        "outputs": [
            {
                "internalType": "uint8",
                "name": "",
                "type": "uint8"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "name",
        "outputs": [
            {
                "internalType": "string",
                "name": "",
                "type": "string"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "owner",
        "outputs": [
            {
                "internalType": "address",
                "name": "",
                "type": "address"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "paused",
        "outputs": [
            {
                "internalType": "bool",
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "symbol",
        "outputs": [
            {
                "internalType": "string",
                "name": "",
                "type": "string"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "totalSupply",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    }
]`
```

#  合约函数签名、交易和查询文档



### 智能合约说明

- 本文档主要说明智能合约，通过函数名和传入参数，获取函数签名和后续交易查询的方法

#### 1. 合约函数签名及数据组装说明

- 更加详细的使用请查阅[官方文档](https://solidity-cn.readthedocs.io/zh/develop/abi-spec.html)对数据组装的解说

- 数据组装为: 固定字段,即函数签名的前4个字节 + 加上参数的编码数据,每个参数都需要向左补全64位(如果是字符串，需要向右补全，补全后能整除64)

- solidity提供的签名方法得到函数签名的前4个字节为：bytes4(keccak256(‘函数名(参数类型1,参数类型2…)’));

- 比如ERC20的transfer转账函数

  ```
  bytes4(keccak256('transfer(address,uint256)')) == 0xa9059cbb // 0xa9059cbb即为transfer转账函数签名的前4个字节
  ==>
  整个函数进行交易的数据组装为:函数签名前4个字节 + 接受转账的地址(补全64位) + 转账金额(16进制，补全64位)
  0xa9059cbb
  +
  000000000000000000000000e79fead329b69540142fabd881099c04424cc49f // 地址0xe79fead329b69540142fabd881099c04424cc49f，需要去掉0x,再向左补全64位
  +
  00000000000000000000000000000000000000000000000000000000000003e8 // 金额转换为16进制后，向左补全64位
  ==>
  0xa9059cbb000000000000000000000000e79fead329b69540142fabd881099c04424cc49f00000000000000000000000000000000000000000000000000000000000003e8 // 需要进行transfer的转账数据
  ```

- 函数的签名，也可以用 [离线钱包](https://github.com/BaerChain/cpp-lsac/wiki/BaerChain-离线钱包使用)获取函数的签名，在进行数据组装，如下指令:

  ```
  ./cmdWallet --sha3 "transfer(address,uint256)"
  ```

- 返回结果为

  ```
  #a9059cbb… // a9059cbb即为transfer函数签名的前4个字节
  ```

#### 2. 获取智能合约ABI

- 本文档提供如下3种方法：
- 2.1 使用[官方文档](https://solidity-cn.readthedocs.io/zh/develop/using-the-compiler.html)上说明的编译器编译自己的合约得到ABI
- 2.2 使用在线编辑器[remix](http://remix.ethereum.org/)编辑自己的合约，获取ABI
- 2.3 通过手机APP获取智能合约API,如下：
  ![null](https://docs.zmatrix.cn/uploads/contractCoin/images/m_ca73c1471cef9734b53599829bf4dbc1_r.png)

![null](https://docs.zmatrix.cn/uploads/contractCoin/images/m_9ec32620aead5fb1f4a90b97b12a340e_r.png)

#### 3. 通过合约的函数名和传入参数获取签名data

- 3.1 可参照 [go示例代码](https://docs.zmatrix.cn/docs/contractCoin/contractCoin-1c2jrpk0cg03s), 将自己的合约ABI替换掉代码中的contractABI

- 3.2 运行代码go run main.go,可以看到运行的测试结果：
  ![null](https://docs.zmatrix.cn/uploads/contractCoin/images/m_460bcaad9aa7cec3e1088138dbbc1140_r.png)

  ```
  测试中有3个测试用例：
  3.2.1 代币的名称的data为:0x06fdde03
  3.2.2 指定地址余额的data为：0x70a08231000000000000000000000000e79fead329b69540142fabd881099c04424cc49f
  3.2.3 转账给指定地址的data为：0xa9059cbb000000000000000000000000e79fead329b69540142fabd881099c04424cc49f00000000000000000000000000000000000000000000000000000000000003e8
  ```

#### 4. 通过在线钱包签名交易

- 4.1 在线签名交易的使用方法请查看 [BaerChain-在线钱包使用](https://github.com/BaerChain/cpp-lsac/wiki/BaerChain-在线钱包使用)

- 4.2 交易签名请求为

  - 备注：将3.2.3的数据放入contract中

    ```
    {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "sign_transaction",
    "params": {
        "param": {
        "source": [{
        "from": "0x0f63870e5062f01b87bfc804f413e251982a4764",
        "to": "0x2d67b9e080e838a30176cf79ca75116398aa8304",
        "value": "0x0",
        "data": [{
            "type": 6,
            "contract": "0xa9059cbb000000000000000000000000e79fead329b69540142fabd881099c04424cc49f00000000000000000000000000000000000000000000000000000000000003e8"
        }],
        "chainId": "0x1",
        "nonce": "0x3",
        "gas": "0x1388000",
        "gasPrice": "0x5"
    }],
    "keys": [
        "2LVD7LspF4VPzPAf4iVZsYxHcwLMcbM2nVDsvyTonVy8"
    ]
      }
    }
    }
    ```

- 得到的交易签名结果为

  ```
  {
   "id": 1,
   "jsonrpc": "2.0",
   "result": {
      "hash": "0x9defa9d9269e9c853582c0377818fcebd8b91e936567058ecd59646e6a5fe30a",
      "isSend": false,
      "rlp": "0xf8a603058401388000942d67b9e080e838a30176cf79ca75116398aa830480b844a9059cbb000000000000000000000000e79fead329b69540142fabd881099c04424cc49f00000000000000000000000000000000000000000000000000000000000003e825a069639aa5b49a74f2322b03a8a03e1b0c4ef5fec4eaa65e722d1c447aa11d814fa01edcbaae46712f5da99ce9049a738235bb13d0234e488d551c4470b5551f2a90"
   }
  }
  ```

- 4.3 调用[brc_sendRawTransaction](https://github.com/BaerChain/cpp-lsac/wiki/BaerChain-RPC接口文档#rpc12)发送交易,返回结果为

  ```
  {
    "id": 12,
    "jsonrpc": "2.0",
    "result": "0x9defa9d9269e9c853582c0377818fcebd8b91e936567058ecd59646e6a5fe30a"
  }
  ```

- 4.4 调用[brc_getTransactionReceipt](https://github.com/BaerChain/cpp-lsac/wiki/BaerChain-RPC接口文档#rpc13)查询交易hash,返回结果为

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x716c17da126f5ce2ce805fd24e7e5d68293c1f73cd88a100db6e9a04b8edbf84",
        "blockNumber": 53101,
        "contractAddress": "0xf3a646290266255dc744828f9422da8946442035",
        "cumulativeGasUsed": "0xc9f0",
        "from": "0x0f63870e5062f01b87bfc804f413e251982a4764",
        "gasUsed": "0xc9f0",
        "logs": [
            {
                "address": "0x2d67b9e080e838a30176cf79ca75116398aa8304",
                "blockHash": "0x716c17da126f5ce2ce805fd24e7e5d68293c1f73cd88a100db6e9a04b8edbf84",
                "blockNumber": 53101,
                "data": "0x00000000000000000000000000000000000000000000000000000000000003e8",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x0000000000000000000000000f63870e5062f01b87bfc804f413e251982a4764",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0x9defa9d9269e9c853582c0377818fcebd8b91e936567058ecd59646e6a5fe30a",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000100000000000000000000008000000000000000000000000000000000000000200000000000000000000000000000000000400008000000000000010000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x2d67b9e080e838a30176cf79ca75116398aa8304",
        "transactionHash": "0x9defa9d9269e9c853582c0377818fcebd8b91e936567058ecd59646e6a5fe30a",
        "transactionIndex": 0
    }
  }
  ```

#### 5 brc_call查询

- 将3.2.1的data数据用 [brc_call](https://github.com/BaerChain/cpp-lsac/wiki/BaerChain-RPC接口文档#rpc36) 进行查询

#### 6 ABI说明

- 对transfer的ABI说明

  ```
    {
        "constant": false,
        "inputs": [
            {
                "internalType": "address",
                "name": "recipient",
                "type": "address"
            },
            {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
            }
        ],
        "name": "transfer",
        "outputs": [
            {
                "internalType": "bool",
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    }
  ```

- 参数说明

  ```
  inputs          : 表示输入的参数，数组结构，里面包含输入的参数名及参数类型
  name            ：函数名
  outputs         ：表示输出的参数，数组结构，里面包含输出的参数名及参数类型
  payable         ：false，表示该函数不可接收链币BRC，true表示该函数可接收链币BRC
  stateMutability : nonpayable,此时同payable
  type            ："function", 表示为函数
  ```

# -NEW-合约交易说明



## ERC20-NEW-合约交易说明

### 合约函数数据组装说明

- 数据组装为: 固定字段,即函数签名的前4个字节 + 加上参数的编码数据,每个参数都需要向左补全64位

- 函数的签名前4个字节为:bytes4(keccak256(‘函数名(参数类型1,参数类型2…)’));

  ```
  0x1e18dc450000000000000000000000000000000000000000000000000000000000000001
  ```

#### 1. 授权 approve

- 交易数据

  ```
  函数签名前4个字节 + 被授权地址 + 授权金额(16进制)
  bytes4(keccak256('approve(address,uint256)')) == 0x095ea7b3
  0x095ea7b3 +
  000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb +
  00000000000000000000000000000000000000000000000000000000000003e8
  ==>
  0x095ea7b3000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb00000000000000000000000000000000000000000000000000000000000003e8
  测试网实例:
  区块号:17015814
  交易哈希:0x4c3de2d3d88475921ada768136c82a4afdad176c31e8bc0bf7941ffe06248587
  ```

- 查询交易详情

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x4c3de2d3d88475921ada768136c82a4afdad176c31e8bc0bf7941ffe06248587"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0xdbdda2a23a73e103b733769e2b206967944ec9eefaa0b70da61023d045cc564e",
        "blockNumber": 17015814,
        "contractAddress": "0xd0b60e370244d230dfab3af36918e7132ccdcfce",
        "cumulativeGasUsed": "0xb49b",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0xb49b",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0xdbdda2a23a73e103b733769e2b206967944ec9eefaa0b70da61023d045cc564e",
                "blockNumber": 17015814,
                "data": "0x00000000000000000000000000000000000000000000000000000000000003e8",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                    "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"
                ],
                "transactionHash": "0x4c3de2d3d88475921ada768136c82a4afdad176c31e8bc0bf7941ffe06248587",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000004000000000000000000000000000000000000000000000200000000000000000000000800000000000000000000008000300000000000000000000000000000000000000000000000000000000000000000000200000200000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0x4c3de2d3d88475921ada768136c82a4afdad176c31e8bc0bf7941ffe06248587",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  "topics": [
    "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
    "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"
  ]
  topics[0] = "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925", 为固定的授权事件字段
  topics[1]和topics[2]分别截去前面的固定字段0x000000000000000000000000,再加上前缀0x得到 ==>
  授权地址: 0xe79fead329b69540142fabd881099c04424cc49f
  得到权限的地址: 0x695193772208fb21b8cae0096ddea871d74e82cb
  >>>>>>
  授权的金额:  "data": "0x00000000000000000000000000000000000000000000000000000000000003e8"
  转换为10进制得到:1000
  "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a"字段表示合约地址
  ```

#### 2. 转账 transfer

- 转账数据说明

  ```
  函数签名前4个字节 + 接受转账的地址 + 转账金额(16进制)
  bytes4(keccak256('transfer(address,uint256)')) == 0xa9059cbb
  0xa9059cbb + 
  000000000000000000000000e523e7c59a0725afd08bc9751c89eed6f8e16dec +
  000000000000000000000000000000000000000000000000000000000000000b
  ==> 0xa9059cbb00000000000000000000000014723a09acff6d2a60dcdf7aa4aff308fddc160c000000000000000000000000000000000000000000000000000000000000000b
  测试网实例:
  区块号:17016712
  交易哈希:0x5c7e6d7e53072fce11b546854d60d698db6ebb438f19c5e1bdf3af27b56e2f00
  ```

- 交易查询指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x5c7e6d7e53072fce11b546854d60d698db6ebb438f19c5e1bdf3af27b56e2f00"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0xdb0c5435c457d3b059dbe9016c83da8cfb55460b07f594b40e51921bd0db7f41",
        "blockNumber": 17016712,
        "contractAddress": "0x47dd2280b43edf8dc79cef1fe5468189476c601e",
        "cumulativeGasUsed": "0xc9c2",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0xc9c2",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0xdb0c5435c457d3b059dbe9016c83da8cfb55460b07f594b40e51921bd0db7f41",
                "blockNumber": 17016712,
                "data": "0x000000000000000000000000000000000000000000000000000000000000000b",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                    "0x00000000000000000000000014723a09acff6d2a60dcdf7aa4aff308fddc160c"
                ],
                "transactionHash": "0x5c7e6d7e53072fce11b546854d60d698db6ebb438f19c5e1bdf3af27b56e2f00",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000080000000000200000000000000000000000000000000000000000000000000100000000008000000000000000008000000000000000000000000000000000000000200000200000000000000000000000040000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000102000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0x5c7e6d7e53072fce11b546854d60d698db6ebb438f19c5e1bdf3af27b56e2f00",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
    "0x00000000000000000000000014723a09acff6d2a60dcdf7aa4aff308fddc160c"
  ],
  topics[0] = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",为固定的转账事件字段, 且调用transfer这个函数,只会有1个事件
  topics[1]和topics[2]分别截去前面的固定字段0x000000000000000000000000,再加上前缀0x得到
  ==>
  得到转账的地址: 0xe79fead329b69540142fabd881099c04424cc49f
  得到代币的地址: 0x14723a09acff6d2a60dcdf7aa4aff308fddc160c
  ==>
  "data": "0x000000000000000000000000000000000000000000000000000000000000000b" 表示转账的金额,转换为10进制为11
  "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a"字段表示合约地址
  ```

#### 3. 授权转账 transferFrom

- 授权转账数据说明

  ```
  函数签名前4个字节 + 转出地址 + 接受转账的地址 + 转账金额(16进制)
  bytes4(keccak256('transferFrom(address,address,uint256)')) == 0x23b872dd
  0x23b872dd +
  000000000000000000000000e79fead329b69540142fabd881099c04424cc49f +
  000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805 +
  000000000000000000000000000000000000000000000000000000000000000c
  ==>0x23b872dd000000000000000000000000e79fead329b69540142fabd881099c04424cc49f000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805000000000000000000000000000000000000000000000000000000000000000c
  测试网实例:
  区块号:17016973
  交易哈希:0x52872355b883360cbebab6a0e8b78c489ffd1a9d2df122b49e50f4926c1e4125
  ```

- 查询交易指令

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x212da2cab4e4fdbbd10c991a52b729fa5aeecf71123fd071388d215108b7d0be",
        "blockNumber": 17016973,
        "contractAddress": "0xf7b248964c53facff7e113c649896341da1155f1",
        "cumulativeGasUsed": "0xedbd",
        "from": "0x695193772208fb21b8cae0096ddea871d74e82cb",
        "gasUsed": "0xedbd",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0x212da2cab4e4fdbbd10c991a52b729fa5aeecf71123fd071388d215108b7d0be",
                "blockNumber": 17016973,
                "data": "0x000000000000000000000000000000000000000000000000000000000000000c",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                    "0x000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805"
                ],
                "transactionHash": "0x52872355b883360cbebab6a0e8b78c489ffd1a9d2df122b49e50f4926c1e4125",
                "transactionIndex": 0,
                "type": "mined"
            },
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0x212da2cab4e4fdbbd10c991a52b729fa5aeecf71123fd071388d215108b7d0be",
                "blockNumber": 17016973,
                "data": "0x00000000000000000000000000000000000000000000000000000000000003dc",
                "logIndex": 1,
                "polarity": false,
                "topics": [
                    "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                    "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"
                ],
                "transactionHash": "0x52872355b883360cbebab6a0e8b78c489ffd1a9d2df122b49e50f4926c1e4125",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000004000000000000000000000000000000000000000000000200000000000000000000000800000000000000000000008000300000000000000000000000000008000000000000000000000000000000000000000200000200000000000000000000000040000000000000000000000010000000000000000000000000000000000000000100000000000100000000000000000000020000000000000000000000000000000000000000000000080000000000000000000102000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0x52872355b883360cbebab6a0e8b78c489ffd1a9d2df122b49e50f4926c1e4125",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  此时可以看见授权转账的logs字段中必包含2个事件
  第一个事件中:
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
    "0x000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805"
  ]
  可以看出是和转账事件解析相同
  ====>
  第二个事件中:
  "topics": [
    "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
    "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"
  ]
  (1) 可以看出是和授权事件解析相同
  (2) 说明授权转账是转账和授权的结合,只是操作地址不同,授权和转账单独的这两个功能都是代币持有者进行操作;
  (3) 而授权转账这个功能是指定地址得到授权的金额后,它可以将授权地址的这些金额进行转账交易,转账成功后,授权金额会相应的减少;
  (4) 在本次交易中可得权限地址为字段"from": "0x695193772208fb21b8cae0096ddea871d74e82cb";
  合约地址为: "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a"
  (4.1)在第一个事件中将授权给它("from")的地址topics[1] = "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f". 即地址:0xe79fead329b69540142fabd881099c04424cc49f
  转账给地址topics[2] = "0x000000000000000000000000042610e447c94ff0824b7aa89fab123930edc805", 即地址:0x042610e447c94ff0824b7aa89fab123930edc805
  转账的金额为 "data": "0x000000000000000000000000000000000000000000000000000000000000000c", 转换为10进制为12
  topics[0] = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"为转账的固定字段
  ==>
  (4.2) 在第二个事件中,因为第一个事件为转账,转账成功后它的("from")权限金额减少;
  topics[1] = "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f", 即地址:0xe79fead329b69540142fabd881099c04424cc49f 现在授权给地址
  topics[2] = "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb", 即地址0x695193772208fb21b8cae0096ddea871d74e82cb"(与from相同)
  的金额为:"data": "0x00000000000000000000000000000000000000000000000000000000000003dc", 转换为10进制为988
  ```

#### 4. 为指定地址增发代币 mint

- 增发代币说明:合约拥有者可以将增发的代币给指定的地址,即可以是自己,也可以是其他被指定的地址

```
函数签名前4个字节 + 增发代币的数量(不含精度)(16进制)
bytes4(keccak256('mint(address,uint256)')) == 0x40c10f19
0x40c10f19
+
000000000000000000000000e79fead329b69540142fabd881099c04424cc49f
+
000000000000000000000000000000000000000000000000000000000bebc200
==>
0x40c10f19000000000000000000000000e79fead329b69540142fabd881099c04424cc49f000000000000000000000000000000000000000000000000000000000bebc200
测试网实例:
区块号:17017246
交易哈希:0xe805bbb5bc14bdd2525787c1415b5012e0f82bf6e786a847013b11ec57e0b508
```

- 交易查询指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0xe805bbb5bc14bdd2525787c1415b5012e0f82bf6e786a847013b11ec57e0b508"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0xb0fa4aa37ff794e8db94b56e9c8bd67a980e39810168c16152713983790868cb",
        "blockNumber": 17017246,
        "contractAddress": "0x09dcfbd12af8f1a7afb6b9e5e93e84ea03d66039",
        "cumulativeGasUsed": "0x943d",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0x943d",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0xb0fa4aa37ff794e8db94b56e9c8bd67a980e39810168c16152713983790868cb",
                "blockNumber": 17017246,
                "data": "0x000000000000000000000000000000000000000000000000000000000bebc200",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x0000000000000000000000000000000000000000000000000000000000000000",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0xe805bbb5bc14bdd2525787c1415b5012e0f82bf6e786a847013b11ec57e0b508",
                "transactionIndex": 0,
                "type": "mined"
            },
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0xb0fa4aa37ff794e8db94b56e9c8bd67a980e39810168c16152713983790868cb",
                "blockNumber": 17017246,
                "data": "0x000000000000000000000000000000000000000000000000000000000bebc200",
                "logIndex": 1,
                "polarity": false,
                "topics": [
                    "0x430080bcaaf4832a6fedf62b6ce7849b50c273246fdc69a13ce54e9772008f1c",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0xe805bbb5bc14bdd2525787c1415b5012e0f82bf6e786a847013b11ec57e0b508",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000200000100000000000000000000000000000000000000000000100000000000000000000000000008000000000000000000000000000000000000000200000200020000000000000000000840000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000102400000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0xe805bbb5bc14bdd2525787c1415b5012e0f82bf6e786a847013b11ec57e0b508",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  (1) 增发代币,"logs"字段中有2个事件,第一个事件同transfer转账的事件,但有区别
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  ]
  topics[0] = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
  topics[1] = "0x0000000000000000000000000000000000000000000000000000000000000000",
  增发代币的情况下这两个字段是固定的,topics[0]字段与转账字段相同,因此在扫块的时候扫到topics[0]字段后不要急于确认就是转账,还需要确认topics[1]字段,然后进行第二个事件的解析
  ==>
  (2) 第二个事件中
  "topics": [
    "0x430080bcaaf4832a6fedf62b6ce7849b50c273246fdc69a13ce54e9772008f1c",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  ]
  topics[0] = "0x430080bcaaf4832a6fedf62b6ce7849b50c273246fdc69a13ce54e9772008f1c"为增发代币的固定字段
  topics[1] = "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"即地址0xe79fead329b69540142fabd881099c04424cc49f
  增发的代币: "data": "0x000000000000000000000000000000000000000000000000000000000bebc200" 转换为10就在得到200000000
  ```

- 查询

#### 5. 销毁代币 burn

- 销毁代币说明

  ```
  函数签名前4个字节 + 销毁代币的数量(不含精度)(16进制)
  bytes4(keccak256('burn(uint256)')) == 0x42966c68
  0x42966c68 +
  0000000000000000000000000000000000000000000000000000000005f5e100
  ==>
  0x42966c680000000000000000000000000000000000000000000000000000000005f5e100
  测试网实例:
  区块号:17017757
  交易哈希:0x883350b91ca17521be557edb651d5d6d6173e2e9e4ea3b60d45ab3a326c77c50
  ```

- 查询交易指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x883350b91ca17521be557edb651d5d6d6173e2e9e4ea3b60d45ab3a326c77c50"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0xe4a5bf0b6d4450f55a0640b87699ebf00af1ceb099440ac42347259d82cfd1de",
        "blockNumber": 17017757,
        "contractAddress": "0x29bcf057d30d6e1566e3dc4444ea0d3863860f85",
        "cumulativeGasUsed": "0x8f37",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0x8f37",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0xe4a5bf0b6d4450f55a0640b87699ebf00af1ceb099440ac42347259d82cfd1de",
                "blockNumber": 17017757,
                "data": "0x0000000000000000000000000000000000000000000000000000000005f5e100",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                    "0x0000000000000000000000000000000000000000000000000000000000000000"
                ],
                "transactionHash": "0x883350b91ca17521be557edb651d5d6d6173e2e9e4ea3b60d45ab3a326c77c50",
                "transactionIndex": 0,
                "type": "mined"
            },
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0xe4a5bf0b6d4450f55a0640b87699ebf00af1ceb099440ac42347259d82cfd1de",
                "blockNumber": 17017757,
                "data": "0x0000000000000000000000000000000000000000000000000000000005f5e100",
                "logIndex": 1,
                "polarity": false,
                "topics": [
                    "0x8102980f65c5fee2d21c925f22d022abc395e0c409616c78835cdf6d6dff613b",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
                ],
                "transactionHash": "0x883350b91ca17521be557edb651d5d6d6173e2e9e4ea3b60d45ab3a326c77c50",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000200000000008000000000000000000000000000000000000000100000000000000000000400000008000000000000000000000000000000000000000200000200020000000000000000000840000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000102000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0x883350b91ca17521be557edb651d5d6d6173e2e9e4ea3b60d45ab3a326c77c50",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  (1) 销毁代币,"logs"字段中有2个事件,第一个事件同transfer转账的事件,但有区别
  第一个事件中:
  "topics": [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
    "0x0000000000000000000000000000000000000000000000000000000000000000"
  ]
  topics[0]字段和topics[2]字段为固定字段,因topics[0]字段与transfer字段的topics[0]字段相同,所以扫块的时候在解析到topics[0]字段的时候,不要立即确认是转账,需要解析第二个事件
  ==>
  第二个事件中:
  "topics": [
    "0x8102980f65c5fee2d21c925f22d022abc395e0c409616c78835cdf6d6dff613b",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f"
  ]
  topics[0] = "0x8102980f65c5fee2d21c925f22d022abc395e0c409616c78835cdf6d6dff613b" 为销毁代币的固定字段
  topics[1] = "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f", 即地址: "0xe79fead329b69540142fabd881099c04424cc49f"
  其销毁的代币数量:   "data": "0x0000000000000000000000000000000000000000000000000000000005f5e100",转化为10进制为 100000000
  ```

#### 6. 暂停合约转账

- 暂停合约转账数据说明

  ```
  函数签名前4个字节 + 销毁代币的数量(不含精度)(16进制)
  bytes4(keccak256('pause()')) == 0x42966c68
  测试网实例:
  区块号:17018121
  交易哈希:0x0bd38b606885410e60e867f3b43f44c4b411bacffb1690e8f86146123d2381d9
  ```

- 查询交易指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x0bd38b606885410e60e867f3b43f44c4b411bacffb1690e8f86146123d2381d9"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0xde1d5ee6f6c29c7509bafc33fabb0e63ae126fcc38edca23658b5ba477a39173",
        "blockNumber": 17018121,
        "contractAddress": "0x5e9110838e2964d67842f7b0b12f7d829a331c50",
        "cumulativeGasUsed": "0xa9b6",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0xa9b6",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0xde1d5ee6f6c29c7509bafc33fabb0e63ae126fcc38edca23658b5ba477a39173",
                "blockNumber": 17018121,
                "data": "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0x62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258"
                ],
                "transactionHash": "0x0bd38b606885410e60e867f3b43f44c4b411bacffb1690e8f86146123d2381d9",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000400000000000000000000000200000000000000000000000040000000010000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0x0bd38b606885410e60e867f3b43f44c4b411bacffb1690e8f86146123d2381d9",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果解析

  ```
  logs字段中有一个事件,该事件中
  "topics": [
    "0x62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258"
  ]
  topocs[0] = "0x62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258", 为固定字段,表示暂停合约转账
  操作的地址为:   "data": "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f", 即地址0xe79fead329b69540142fabd881099c04424cc49f
  ```

#### 7. 启动合约转账

- 启动合约转账数据说明

  ```
  函数签名前4个字节 + 销毁代币的数量(不含精度)(16进制)
  bytes4(keccak256('unpause()')) == 0x3f4ba83a
  测试网实例:
  区块号:17018286
  交易哈希:0x5a31041f0ce77574c063a9e7b0b0e8d01fed1c2370f543590a85dcef1dad4aee
  ```

- 交易查询指令

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0x5a31041f0ce77574c063a9e7b0b0e8d01fed1c2370f543590a85dcef1dad4aee"]}
  ```

- 返回结果

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x20147edebfc7d241880f1dbc2ba9102effdf35c213db98837e727e5e2b42f0fe",
        "blockNumber": 17018286,
        "contractAddress": "0x7f0ab75cb0428d7279eaa510e766e8352ff079da",
        "cumulativeGasUsed": "0x3783",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0x3783",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0x20147edebfc7d241880f1dbc2ba9102effdf35c213db98837e727e5e2b42f0fe",
                "blockNumber": 17018286,
                "data": "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0x5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa"
                ],
                "transactionHash": "0x5a31041f0ce77574c063a9e7b0b0e8d01fed1c2370f543590a85dcef1dad4aee",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000008000000000000200000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0x5a31041f0ce77574c063a9e7b0b0e8d01fed1c2370f543590a85dcef1dad4aee",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  logs字段中有一个事件,该事件中:
  "topics": [
    "0x5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa"
  ]
  topics[0] = "0x5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa"为固定字段,表示启动合约转账
  操作的地址为: "data": "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f", 即地址0xe79fead329b69540142fabd881099c04424cc49f
  ```

#### 8. 更换合约拥有者 changeContractOwner

- 更换何有拥有者说明

  ```
  函数签名前4个字节 + 新的合约拥有者地址
  bytes4(keccak256('changeContractOwner(address)')) == 0x3ead67b5
  0x3ead67b5 +
  000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb
  ==>
  0x3ead67b5000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb
  测试网实例:
  区块号:17018523
  交易哈希:0xd9b36ef0013b2ad6f3252e90b57014d36ce61842ee3891b931f714f3dede3a95
  ```

- 交易指令查询

  ```
  {"id":1,"jsonrpc":"2.0","method":"brc_getTransactionReceipt","params":["0xd9b36ef0013b2ad6f3252e90b57014d36ce61842ee3891b931f714f3dede3a95"]}
  ```

- 返回结果说明

  ```
  {
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "blockHash": "0x25b9d8a1bfcc8326309404a3e4eb11d1f0a7599b4d74fd3667b9b214fd6a07d9",
        "blockNumber": 17018523,
        "contractAddress": "0x0584f94e88b0419e9bcc04f46e538f323de0ab4b",
        "cumulativeGasUsed": "0x77ad",
        "from": "0xe79fead329b69540142fabd881099c04424cc49f",
        "gasUsed": "0x77ad",
        "logs": [
            {
                "address": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
                "blockHash": "0x25b9d8a1bfcc8326309404a3e4eb11d1f0a7599b4d74fd3667b9b214fd6a07d9",
                "blockNumber": 17018523,
                "data": "",
                "logIndex": 0,
                "polarity": false,
                "topics": [
                    "0x07ff91ee303faa39fb867eb01411e233f560ef81a7eef1aff036a194236d1161",
                    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
                    "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"
                ],
                "transactionHash": "0xd9b36ef0013b2ad6f3252e90b57014d36ce61842ee3891b931f714f3dede3a95",
                "transactionIndex": 0,
                "type": "mined"
            }
        ],
        "logsBloom": "0x00000000000000000000000004000000000000000000000000000020000000000000000200000000000000000000000800000000000000000000008000100000000000000000000000000000000000000000000000000000000000000000000200000200000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000008000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "status": "1",
        "to": "0x9c8872e196e1b06a4c399ae27115fc879909353a",
        "transactionHash": "0xd9b36ef0013b2ad6f3252e90b57014d36ce61842ee3891b931f714f3dede3a95",
        "transactionIndex": 0
    }
  }
  ```

- 返回结果说明

  ```
  更换合约拥有者logs字段中有一个事件, 该事件中:
  "topics": [
    "0x07ff91ee303faa39fb867eb01411e233f560ef81a7eef1aff036a194236d1161",
    "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f",
    "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb"
  ]
  topics[0] = "0x07ff91ee303faa39fb867eb01411e233f560ef81a7eef1aff036a194236d1161"为更改合约拥有者固定字段
  topics[1] = "0x000000000000000000000000e79fead329b69540142fabd881099c04424cc49f", 即地址0xe79fead329b69540142fabd881099c04424cc49f
  topics[2] = "0x000000000000000000000000695193772208fb21b8cae0096ddea871d74e82cb", 即地址0x695193772208fb21b8cae0096ddea871d74e82cb
  表示合约的拥有者从地址0xe79fead329b69540142fabd881099c04424cc49f转到地址0x695193772208fb21b8cae0096ddea871d74e82cb
  ```